(()=>{"use strict";const t=document.querySelector(".aside"),e=document.querySelector(".main"),n=document.querySelector("h1"),o=document.querySelector(".clear-trash"),s=document.querySelector(".aside__inbox"),a=document.querySelector(".aside__important"),i=document.querySelector(".aside__spam"),c=document.querySelector(".aside__trash"),r=document.querySelector(".aside__add-task"),l=document.querySelector(".main__messages"),d=document.querySelector(".form"),m=document.querySelector(".form__submit"),u=document.querySelector(".form__close-form"),b=document.querySelector(".form__task-name"),L=document.querySelector(".form__due-date"),p=document.querySelector(".form__priority"),_=document.querySelector(".form__location"),h={smoothFormTransition(){t.style.transition="all 300ms",e.style.transition="all 300ms",n.style.transition="all 300ms"},showForm(){d.classList.remove("hidden"),t.classList.add("blur"),e.classList.add("blur"),n.classList.add("blur"),o.classList.add("blur"),h.smoothFormTransition()},hideForm(){d.classList.add("hidden"),t.classList.remove("blur"),e.classList.remove("blur"),n.classList.remove("blur"),o.classList.remove("blur"),h.smoothFormTransition()},makeTextBold(){s.classList.remove("bold-button"),a.classList.remove("bold-button"),i.classList.remove("bold-button"),c.classList.remove("bold-button"),"Inbox"===n.textContent?(s.classList.add("bold-button"),a.classList.remove("bold-button"),i.classList.remove("bold-button"),c.classList.remove("bold-button")):"Important"===n.textContent?(a.classList.add("bold-button"),s.classList.remove("bold-button"),i.classList.remove("bold-button"),c.classList.remove("bold-button")):"Spam"===n.textContent?(i.classList.add("bold-button"),a.classList.remove("bold-button"),s.classList.remove("bold-button"),c.classList.remove("bold-button")):"Trash"===n.textContent&&(c.classList.add("bold-button"),a.classList.remove("bold-button"),i.classList.remove("bold-button"),s.classList.remove("bold-button"))},clearTrashButtonPresenceVerification(){"Inbox"===n.textContent||"Important"===n.textContent||"Spam"===n.textContent?o.classList.add("none"):"Trash"===n.textContent&&o.classList.remove("none")}},v=[],f=[],x=[],k=[];class y{constructor(t,e,n,o){this.name=t,this.dueDate=e,this.priority=n,this.location=o}}function C(t){l.innerHTML="",t.forEach((function(n){const o=document.createElement("section");o.classList.add("main__task");const s=document.createElement("div");s.classList.add("main__task-1");const a=document.createElement("div");a.classList.add("main__task-2");const i=document.createElement("input");i.classList.add("main__task-checkbox","main__task-info"),i.type="checkbox";const c=document.createElement("span");c.classList.add("main__task-title","main__task-info"),c.textContent=n.name;const r=document.createElement("span");r.classList.add("main__task-date","main__task-info"),r.textContent=n.dueDate;const d=document.createElement("span");d.classList.add("main__task-urgency","main__task-info"),"Low"===n.priority?(d.textContent=n.priority,d.classList.add("green-color")):"Medium"===n.priority?(d.textContent=n.priority,d.classList.add("yellow-color")):"High"===n.priority?(d.textContent=n.priority,d.classList.add("orange-color")):"Urgent"===n.priority&&(d.textContent=n.priority,d.classList.add("red-color"));const m=document.createElement("img");m.classList.add("main__task-image","main__task-info"),m.src="bin1.png";const u=document.createElement("img");u.classList.add("main__task-image","main__task-info"),u.src="filter1.png",m.addEventListener("click",(function(){const e=t.indexOf(n);if(-1!==e){const n=t.splice(e,1)[0];k.push(n),C(t)}})),u.addEventListener("click",(function(){const e=t.indexOf(n);if(-1!==e){const n=t.splice(e,1)[0];x.push(n),C(t)}})),s.appendChild(i),s.appendChild(c),a.appendChild(r),a.appendChild(d),a.appendChild(m),a.appendChild(u),o.appendChild(s),o.appendChild(a),l.appendChild(o),e.appendChild(l)}))}function E(t){C(t),b.value="",L.value="",h.hideForm()}m.addEventListener("click",(function(){const t=new y(b.value,L.value,p.value,_.value);""===b.value||""===L.value?h.showForm():"Inbox"===t.location?(v.push(t),n.textContent="Inbox",h.makeTextBold(),E(v)):"Important"===t.location&&(f.push(t),n.textContent="Important",h.makeTextBold(),E(f)),h.clearTrashButtonPresenceVerification()})),s.addEventListener("click",(function(){n.textContent="Inbox",h.clearTrashButtonPresenceVerification(),h.makeTextBold(),E(v)})),a.addEventListener("click",(function(){n.textContent="Important",h.clearTrashButtonPresenceVerification(),h.makeTextBold(),E(f)})),i.addEventListener("click",(function(){n.textContent="Spam",h.clearTrashButtonPresenceVerification(),h.makeTextBold(),E(x)})),c.addEventListener("click",(function(){n.textContent="Trash",h.clearTrashButtonPresenceVerification(),h.makeTextBold(),E(k)})),r.addEventListener("click",(function(){h.showForm()})),u.addEventListener("click",(function(){h.hideForm(),b.value="",L.value=""})),o.addEventListener("click",(function(){k.splice(0,k.length),C(k)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3R5bGluZ3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2ZvbGRlcnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tDb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIFNFTEVDVE9SUyAqL1xuY29uc3QgYXNpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFzaWRlXCIpO1xuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKTtcbmNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxXCIpO1xuY29uc3QgY2xlYXJUcmFzaEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xlYXItdHJhc2hcIik7XG5cbmNvbnN0IGluYm94QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hc2lkZV9faW5ib3hcIik7XG5jb25zdCBpbXBvcnRhbnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFzaWRlX19pbXBvcnRhbnRcIik7XG5jb25zdCBzcGFtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hc2lkZV9fc3BhbVwiKTtcbmNvbnN0IHRyYXNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hc2lkZV9fdHJhc2hcIik7XG5jb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hc2lkZV9fYWRkLXRhc2tcIik7XG5cbmNvbnN0IG1haW5TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluX19tZXNzYWdlc1wiKTtcblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbmNvbnN0IGZvcm1TdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKTtcbmNvbnN0IGNsb3NlRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fY2xvc2UtZm9ybVwiKTtcbmNvbnN0IGZvcm1UYXNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fdGFzay1uYW1lXCIpO1xuY29uc3QgZm9ybUR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2R1ZS1kYXRlXCIpO1xuY29uc3QgZm9ybVByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19wcmlvcml0eVwiKTtcbmNvbnN0IGZvcm1Mb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fbG9jYXRpb25cIik7XG5cbmV4cG9ydCB7XG4gIGFzaWRlLFxuICBtYWluLFxuICB0aXRsZSxcbiAgaW5ib3hCdXR0b24sXG4gIGltcG9ydGFudEJ1dHRvbixcbiAgc3BhbUJ1dHRvbixcbiAgdHJhc2hCdXR0b24sXG4gIGFkZFRhc2tCdXR0b24sXG4gIG1haW5TZWN0aW9uLFxuICBmb3JtLFxuICBmb3JtU3VibWl0LFxuICBjbG9zZUZvcm1CdXR0b24sXG4gIGZvcm1UYXNrTmFtZSxcbiAgZm9ybUR1ZURhdGUsXG4gIGZvcm1Qcmlvcml0eSxcbiAgZm9ybUxvY2F0aW9uLFxuICBjbGVhclRyYXNoQnV0dG9uLFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBTRUxFQ1RPUlMgKi9cbmltcG9ydCB7XG4gIGFzaWRlLFxuICBtYWluLFxuICB0aXRsZSxcbiAgaW5ib3hCdXR0b24sXG4gIGltcG9ydGFudEJ1dHRvbixcbiAgc3BhbUJ1dHRvbixcbiAgdHJhc2hCdXR0b24sXG4gIGFkZFRhc2tCdXR0b24sXG4gIG1haW5TZWN0aW9uLFxuICBmb3JtLFxuICBmb3JtU3VibWl0LFxuICBjbG9zZUZvcm1CdXR0b24sXG4gIGZvcm1UYXNrTmFtZSxcbiAgZm9ybUR1ZURhdGUsXG4gIGZvcm1Qcmlvcml0eSxcbiAgZm9ybUxvY2F0aW9uLFxuICBjbGVhclRyYXNoQnV0dG9uLFxufSBmcm9tIFwiLi9zZWxlY3RvcnMuanNcIjtcblxuLyogU1RZTElOR1MgKi9cbmV4cG9ydCBjb25zdCBzdHlsaW5nc09iamVjdCA9IHtcbiAgLy8gVHJhbnNpdGlvbnMgZm9yIHNtb290aCBlZmZlY3Qgd2hlbiBzaG93aW5nIGZvcm1cbiAgc21vb3RoRm9ybVRyYW5zaXRpb24oKSB7XG4gICAgYXNpZGUuc3R5bGUudHJhbnNpdGlvbiA9IFwiYWxsIDMwMG1zXCI7XG4gICAgbWFpbi5zdHlsZS50cmFuc2l0aW9uID0gXCJhbGwgMzAwbXNcIjtcbiAgICB0aXRsZS5zdHlsZS50cmFuc2l0aW9uID0gXCJhbGwgMzAwbXNcIjtcbiAgfSxcblxuICAvLyBGdW5jdGlvbiB0byBzaG93IHRoZSBmb3JtIGFuZCBibHVyIG90aGVyIGNvbnRlbnRcbiAgc2hvd0Zvcm0oKSB7XG4gICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIGFzaWRlLmNsYXNzTGlzdC5hZGQoXCJibHVyXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZChcImJsdXJcIik7XG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcImJsdXJcIik7XG4gICAgY2xlYXJUcmFzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYmx1clwiKTtcbiAgICBzdHlsaW5nc09iamVjdC5zbW9vdGhGb3JtVHJhbnNpdGlvbigpO1xuICB9LFxuXG4gIC8vIEZ1bmN0aW9uIHRvIGhpZGUgdGhlIGZvcm0gYW5kIGRlYmx1ciBvdGhlciBjb250ZW50XG4gIGhpZGVGb3JtKCkge1xuICAgIGZvcm0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBhc2lkZS5jbGFzc0xpc3QucmVtb3ZlKFwiYmx1clwiKTtcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJibHVyXCIpO1xuICAgIHRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoXCJibHVyXCIpO1xuICAgIGNsZWFyVHJhc2hCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImJsdXJcIik7XG4gICAgc3R5bGluZ3NPYmplY3Quc21vb3RoRm9ybVRyYW5zaXRpb24oKTtcbiAgfSxcblxuICBtYWtlVGV4dEJvbGQoKSB7XG4gICAgLy8gUmVzZXQgZm9udC13ZWlnaHQgZm9yIGFsbCBidXR0b25zXG4gICAgaW5ib3hCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImJvbGQtYnV0dG9uXCIpO1xuICAgIGltcG9ydGFudEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgc3BhbUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgdHJhc2hCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImJvbGQtYnV0dG9uXCIpO1xuXG4gICAgaWYgKHRpdGxlLnRleHRDb250ZW50ID09PSBcIkluYm94XCIpIHtcbiAgICAgIGluYm94QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIGltcG9ydGFudEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgICBzcGFtQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIHRyYXNoQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICB9IGVsc2UgaWYgKHRpdGxlLnRleHRDb250ZW50ID09PSBcIkltcG9ydGFudFwiKSB7XG4gICAgICBpbXBvcnRhbnRCdXR0b24uY2xhc3NMaXN0LmFkZChcImJvbGQtYnV0dG9uXCIpO1xuICAgICAgaW5ib3hCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImJvbGQtYnV0dG9uXCIpO1xuICAgICAgc3BhbUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgICB0cmFzaEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgfSBlbHNlIGlmICh0aXRsZS50ZXh0Q29udGVudCA9PT0gXCJTcGFtXCIpIHtcbiAgICAgIHNwYW1CdXR0b24uY2xhc3NMaXN0LmFkZChcImJvbGQtYnV0dG9uXCIpO1xuICAgICAgaW1wb3J0YW50QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIGluYm94QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIHRyYXNoQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICB9IGVsc2UgaWYgKHRpdGxlLnRleHRDb250ZW50ID09PSBcIlRyYXNoXCIpIHtcbiAgICAgIHRyYXNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIGltcG9ydGFudEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYm9sZC1idXR0b25cIik7XG4gICAgICBzcGFtQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICAgIGluYm94QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJib2xkLWJ1dHRvblwiKTtcbiAgICB9XG4gIH0sXG5cbiAgY2xlYXJUcmFzaEJ1dHRvblByZXNlbmNlVmVyaWZpY2F0aW9uKCkge1xuICAgIGlmICh0aXRsZS50ZXh0Q29udGVudCA9PT0gXCJJbmJveFwiKSB7XG4gICAgICBjbGVhclRyYXNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJub25lXCIpO1xuICAgIH0gZWxzZSBpZiAodGl0bGUudGV4dENvbnRlbnQgPT09IFwiSW1wb3J0YW50XCIpIHtcbiAgICAgIGNsZWFyVHJhc2hCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5vbmVcIik7XG4gICAgfSBlbHNlIGlmICh0aXRsZS50ZXh0Q29udGVudCA9PT0gXCJTcGFtXCIpIHtcbiAgICAgIGNsZWFyVHJhc2hCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5vbmVcIik7XG4gICAgfSBlbHNlIGlmICh0aXRsZS50ZXh0Q29udGVudCA9PT0gXCJUcmFzaFwiKSB7XG4gICAgICBjbGVhclRyYXNoQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJub25lXCIpO1xuICAgIH1cbiAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgaW5ib3hGb2xkZXIgPSBbXTtcbmNvbnN0IGltcG9ydGFudEZvbGRlciA9IFtdO1xuY29uc3Qgc3BhbUZvbGRlciA9IFtdO1xuY29uc3QgdHJhc2hGb2xkZXIgPSBbXTtcblxuZXhwb3J0IHsgaW5ib3hGb2xkZXIsIGltcG9ydGFudEZvbGRlciwgc3BhbUZvbGRlciwgdHJhc2hGb2xkZXIgfTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYSBib29rIG9iamVjdFxuZXhwb3J0IGNsYXNzIFRhc2sge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBkdWVEYXRlLCBwcmlvcml0eSwgbG9jYXRpb24pIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIENTUyBGSUxFICovXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG4vKiBTRUxFQ1RPUlMgKi9cbmltcG9ydCB7XG4gIGFzaWRlLFxuICBtYWluLFxuICB0aXRsZSxcbiAgaW5ib3hCdXR0b24sXG4gIGltcG9ydGFudEJ1dHRvbixcbiAgc3BhbUJ1dHRvbixcbiAgdHJhc2hCdXR0b24sXG4gIGFkZFRhc2tCdXR0b24sXG4gIG1haW5TZWN0aW9uLFxuICBmb3JtLFxuICBmb3JtU3VibWl0LFxuICBjbG9zZUZvcm1CdXR0b24sXG4gIGZvcm1UYXNrTmFtZSxcbiAgZm9ybUR1ZURhdGUsXG4gIGZvcm1Qcmlvcml0eSxcbiAgZm9ybUxvY2F0aW9uLFxuICBjbGVhclRyYXNoQnV0dG9uLFxufSBmcm9tIFwiLi9zZWxlY3RvcnMuanNcIjtcblxuLyogU1RZTElOR1MgKi9cbmltcG9ydCB7IHN0eWxpbmdzT2JqZWN0IH0gZnJvbSBcIi4vc3R5bGluZ3MuanNcIjtcblxuLyogRk9MREVSUyAqL1xuaW1wb3J0IHtcbiAgaW5ib3hGb2xkZXIsXG4gIGltcG9ydGFudEZvbGRlcixcbiAgc3BhbUZvbGRlcixcbiAgdHJhc2hGb2xkZXIsXG59IGZyb20gXCIuL2ZvbGRlcnMuanNcIjtcblxuLyogVEFTSy1DT05TVFJVQ1RPUiAqL1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL3Rhc2tDb25zdHJ1Y3Rvci5qc1wiO1xuXG4vKiBQUk9KRUNUIEZVTkNUSU9OQUxJVFkgKi9cbi8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgYWxsIHRhc2tzIGluIHRoZSBtYWluIHNlY3Rpb25cbmZ1bmN0aW9uIGRpc3BsYXlUYXNrcyhmb2xkZXIpIHtcbiAgbWFpblNlY3Rpb24uaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgdGhlIG1haW4gZWxlbWVudFxuXG4gIGZvbGRlci5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgLy8gQ3JlYXRlIGEgdGFzayBlbGVtZW50IGZvciBlYWNoIHRhc2sgY3JlYXRlZFxuICAgIGNvbnN0IG1haW5UYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgbWFpblRhc2suY2xhc3NMaXN0LmFkZChcIm1haW5fX3Rhc2tcIik7XG5cbiAgICAvLyBDcmVhdGUgYSB0YXNrYm94LTEgZm9yIGVhY2ggdGFzayBjcmVhdGVkXG4gICAgY29uc3QgbWFpblRhc2sxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluVGFzazEuY2xhc3NMaXN0LmFkZChcIm1haW5fX3Rhc2stMVwiKTtcblxuICAgIC8vIENyZWF0ZSBhIHRhc2tib3gtMSBmb3IgZWFjaCB0YXNrIGNyZWF0ZWRcbiAgICBjb25zdCBtYWluVGFzazIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1haW5UYXNrMi5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFzay0yXCIpO1xuXG4gICAgLy8gQ3JlYXRlIGNoZWNrYm94IGluc2lkZSB0YXNrIGVsZW1lbnQgaW4gbWFpblxuICAgIGNvbnN0IG1haW5UYXNrQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbWFpblRhc2tDaGVja2JveC5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFzay1jaGVja2JveFwiLCBcIm1haW5fX3Rhc2staW5mb1wiKTtcbiAgICBtYWluVGFza0NoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cbiAgICAvLyBDcmVhdGUgdGl0bGUgaW5zaWRlIHRhc2sgZWxlbWVudCBpbiBtYWluXG4gICAgY29uc3QgbWFpblRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG1haW5UYXNrVGl0bGUuY2xhc3NMaXN0LmFkZChcIm1haW5fX3Rhc2stdGl0bGVcIiwgXCJtYWluX190YXNrLWluZm9cIik7XG4gICAgbWFpblRhc2tUaXRsZS50ZXh0Q29udGVudCA9IHRhc2submFtZTtcblxuICAgIC8vIENyZWF0ZSBkYXRlIGluc2lkZSB0YXNrIGVsZW1lbnQgaW4gbWFpblxuICAgIGNvbnN0IG1haW5UYXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG1haW5UYXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFzay1kYXRlXCIsIFwibWFpbl9fdGFzay1pbmZvXCIpO1xuICAgIG1haW5UYXNrRGF0ZS50ZXh0Q29udGVudCA9IHRhc2suZHVlRGF0ZTtcblxuICAgIC8vIENyZWF0ZSB1cmdlbmN5IGluc2lkZSB0YXNrIGVsZW1lbnQgaW4gbWFpblxuICAgIGNvbnN0IG1haW5UYXNrVXJnZW5jeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG1haW5UYXNrVXJnZW5jeS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFzay11cmdlbmN5XCIsIFwibWFpbl9fdGFzay1pbmZvXCIpO1xuICAgIGlmICh0YXNrLnByaW9yaXR5ID09PSBcIkxvd1wiKSB7XG4gICAgICBtYWluVGFza1VyZ2VuY3kudGV4dENvbnRlbnQgPSB0YXNrLnByaW9yaXR5O1xuICAgICAgbWFpblRhc2tVcmdlbmN5LmNsYXNzTGlzdC5hZGQoXCJncmVlbi1jb2xvclwiKTtcbiAgICB9IGVsc2UgaWYgKHRhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcbiAgICAgIG1haW5UYXNrVXJnZW5jeS50ZXh0Q29udGVudCA9IHRhc2sucHJpb3JpdHk7XG4gICAgICBtYWluVGFza1VyZ2VuY3kuY2xhc3NMaXN0LmFkZChcInllbGxvdy1jb2xvclwiKTtcbiAgICB9IGVsc2UgaWYgKHRhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiKSB7XG4gICAgICBtYWluVGFza1VyZ2VuY3kudGV4dENvbnRlbnQgPSB0YXNrLnByaW9yaXR5O1xuICAgICAgbWFpblRhc2tVcmdlbmN5LmNsYXNzTGlzdC5hZGQoXCJvcmFuZ2UtY29sb3JcIik7XG4gICAgfSBlbHNlIGlmICh0YXNrLnByaW9yaXR5ID09PSBcIlVyZ2VudFwiKSB7XG4gICAgICBtYWluVGFza1VyZ2VuY3kudGV4dENvbnRlbnQgPSB0YXNrLnByaW9yaXR5O1xuICAgICAgbWFpblRhc2tVcmdlbmN5LmNsYXNzTGlzdC5hZGQoXCJyZWQtY29sb3JcIik7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGJpbiBpbWFnZSBpbnNpZGUgdGFzayBlbGVtZW50IGluIG1haW5cbiAgICBjb25zdCBtYWluVGFza1RyYXNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBtYWluVGFza1RyYXNoLmNsYXNzTGlzdC5hZGQoXCJtYWluX190YXNrLWltYWdlXCIsIFwibWFpbl9fdGFzay1pbmZvXCIpO1xuICAgIG1haW5UYXNrVHJhc2guc3JjID0gXCJiaW4xLnBuZ1wiO1xuXG4gICAgLy8gQ3JlYXRlIGZpbHRlciBpbWFnZSBpbnNpZGUgdGFzayBlbGVtZW50IGluIG1haW5cbiAgICBjb25zdCBtYWluVGFza1NwYW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIG1haW5UYXNrU3BhbS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFzay1pbWFnZVwiLCBcIm1haW5fX3Rhc2staW5mb1wiKTtcbiAgICBtYWluVGFza1NwYW0uc3JjID0gXCJmaWx0ZXIxLnBuZ1wiO1xuXG4gICAgLy8gTWFrZSBtYWluVGFza1RyYXNoIGJ1dHRvbiBzZW5kIHRhc2sgaW4gdHJhc2ggZm9sZGVyXG4gICAgbWFpblRhc2tUcmFzaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIHRhc2sgdG8gbW92ZVxuICAgICAgY29uc3QgaW5kZXhUb01vdmUgPSBmb2xkZXIuaW5kZXhPZih0YXNrKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGluZGV4IGV4aXN0cyBpbiB0aGUgYXJyYXkgKHRvIGhhbmRsZSBwb3RlbnRpYWwgaXNzdWVzKVxuICAgICAgaWYgKGluZGV4VG9Nb3ZlICE9PSAtMSkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHRhc2sgZnJvbSB0aGUgY3VycmVudCBmb2xkZXJcbiAgICAgICAgY29uc3QgbW92ZWRUYXNrID0gZm9sZGVyLnNwbGljZShpbmRleFRvTW92ZSwgMSlbMF07XG5cbiAgICAgICAgLy8gQWRkIHRoZSB0YXNrIHRvIHRoZSBUcmFzaCBmb2xkZXJcbiAgICAgICAgdHJhc2hGb2xkZXIucHVzaChtb3ZlZFRhc2spO1xuXG4gICAgICAgIC8vIFJlLWRpc3BsYXkgdGhlIHRhc2tzIHRvIHJlZmxlY3QgdGhlIG1vdmVcbiAgICAgICAgZGlzcGxheVRhc2tzKGZvbGRlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNYWtlIG1haW5TcGFtVHJhc2ggYnV0dG9uIHNlbmQgdGFzayBpbiBzcGFtIGZvbGRlclxuICAgIG1haW5UYXNrU3BhbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIHRhc2sgdG8gbW92ZVxuICAgICAgY29uc3QgaW5kZXhUb01vdmUgPSBmb2xkZXIuaW5kZXhPZih0YXNrKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGluZGV4IGV4aXN0cyBpbiB0aGUgYXJyYXkgKHRvIGhhbmRsZSBwb3RlbnRpYWwgaXNzdWVzKVxuICAgICAgaWYgKGluZGV4VG9Nb3ZlICE9PSAtMSkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHRhc2sgZnJvbSB0aGUgY3VycmVudCBmb2xkZXJcbiAgICAgICAgY29uc3QgbW92ZWRUYXNrID0gZm9sZGVyLnNwbGljZShpbmRleFRvTW92ZSwgMSlbMF07XG5cbiAgICAgICAgLy8gQWRkIHRoZSB0YXNrIHRvIHRoZSBTcGFtIGZvbGRlclxuICAgICAgICBzcGFtRm9sZGVyLnB1c2gobW92ZWRUYXNrKTtcblxuICAgICAgICAvLyBSZS1kaXNwbGF5IHRoZSB0YXNrcyB0byByZWZsZWN0IHRoZSBtb3ZlXG4gICAgICAgIGRpc3BsYXlUYXNrcyhmb2xkZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWFpblRhc2sxLmFwcGVuZENoaWxkKG1haW5UYXNrQ2hlY2tib3gpO1xuICAgIG1haW5UYXNrMS5hcHBlbmRDaGlsZChtYWluVGFza1RpdGxlKTtcblxuICAgIG1haW5UYXNrMi5hcHBlbmRDaGlsZChtYWluVGFza0RhdGUpO1xuICAgIG1haW5UYXNrMi5hcHBlbmRDaGlsZChtYWluVGFza1VyZ2VuY3kpO1xuICAgIG1haW5UYXNrMi5hcHBlbmRDaGlsZChtYWluVGFza1RyYXNoKTtcbiAgICBtYWluVGFzazIuYXBwZW5kQ2hpbGQobWFpblRhc2tTcGFtKTtcblxuICAgIG1haW5UYXNrLmFwcGVuZENoaWxkKG1haW5UYXNrMSk7XG4gICAgbWFpblRhc2suYXBwZW5kQ2hpbGQobWFpblRhc2syKTtcblxuICAgIG1haW5TZWN0aW9uLmFwcGVuZENoaWxkKG1haW5UYXNrKTtcblxuICAgIC8vIEFwcGVuZCB0aGUgdGFzayBlbGVtZW50IHRvIHRoZSBtYWluIHNlY3Rpb25cbiAgICBtYWluLmFwcGVuZENoaWxkKG1haW5TZWN0aW9uKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1c2hUYXNrc0luRm9sZGVyKGZvbGRlcikge1xuICAvLyBEaXNwbGF5IGFsbCB0YXNrcyBpbiB0aGUgbGlicmFyeVxuICBkaXNwbGF5VGFza3MoZm9sZGVyKTtcblxuICAvLyBSZXNldHMgZm9ybSB2YWx1ZXNcbiAgZm9ybVRhc2tOYW1lLnZhbHVlID0gXCJcIjtcbiAgZm9ybUR1ZURhdGUudmFsdWUgPSBcIlwiO1xuXG4gIC8vIEhpZGUgdGhlIGZvcm1cbiAgc3R5bGluZ3NPYmplY3QuaGlkZUZvcm0oKTtcbn1cblxuLyogRVZFTlRTIExJU1RFTkVSUyAqL1xuLy8gQWRkIHRhc2staW5mbyB0byB0aGUgbWFpbiBzZWN0aW9uIGluIGNvZGUgYW5kIFVJIGZvcm1cbmZvcm1TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgdGFzayA9IG5ldyBUYXNrKFxuICAgIGZvcm1UYXNrTmFtZS52YWx1ZSxcbiAgICBmb3JtRHVlRGF0ZS52YWx1ZSxcbiAgICBmb3JtUHJpb3JpdHkudmFsdWUsXG4gICAgZm9ybUxvY2F0aW9uLnZhbHVlXG4gICk7XG5cbiAgaWYgKGZvcm1UYXNrTmFtZS52YWx1ZSA9PT0gXCJcIiB8fCBmb3JtRHVlRGF0ZS52YWx1ZSA9PT0gXCJcIikge1xuICAgIHN0eWxpbmdzT2JqZWN0LnNob3dGb3JtKCk7XG4gIH0gZWxzZSBpZiAodGFzay5sb2NhdGlvbiA9PT0gXCJJbmJveFwiKSB7XG4gICAgaW5ib3hGb2xkZXIucHVzaCh0YXNrKTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IFwiSW5ib3hcIjtcbiAgICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgICBwdXNoVGFza3NJbkZvbGRlcihpbmJveEZvbGRlcik7XG4gIH0gZWxzZSBpZiAodGFzay5sb2NhdGlvbiA9PT0gXCJJbXBvcnRhbnRcIikge1xuICAgIGltcG9ydGFudEZvbGRlci5wdXNoKHRhc2spO1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gXCJJbXBvcnRhbnRcIjtcbiAgICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgICBwdXNoVGFza3NJbkZvbGRlcihpbXBvcnRhbnRGb2xkZXIpO1xuICB9XG5cbiAgLy8gVmVyaWZ5IGlmIGNsZWFyVHJhc2hCdXR0b24gbXVzdCBiZSB0aGVyZSBvciBub3RcbiAgc3R5bGluZ3NPYmplY3QuY2xlYXJUcmFzaEJ1dHRvblByZXNlbmNlVmVyaWZpY2F0aW9uKCk7XG59KTtcblxuaW5ib3hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBcIkluYm94XCI7XG4gIC8vIFZlcmlmeSBpZiBjbGVhclRyYXNoQnV0dG9uIG11c3QgYmUgdGhlcmUgb3Igbm90XG4gIHN0eWxpbmdzT2JqZWN0LmNsZWFyVHJhc2hCdXR0b25QcmVzZW5jZVZlcmlmaWNhdGlvbigpO1xuICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgcHVzaFRhc2tzSW5Gb2xkZXIoaW5ib3hGb2xkZXIpO1xufSk7XG5cbmltcG9ydGFudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICB0aXRsZS50ZXh0Q29udGVudCA9IFwiSW1wb3J0YW50XCI7XG4gIC8vIFZlcmlmeSBpZiBjbGVhclRyYXNoQnV0dG9uIG11c3QgYmUgdGhlcmUgb3Igbm90XG4gIHN0eWxpbmdzT2JqZWN0LmNsZWFyVHJhc2hCdXR0b25QcmVzZW5jZVZlcmlmaWNhdGlvbigpO1xuICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgcHVzaFRhc2tzSW5Gb2xkZXIoaW1wb3J0YW50Rm9sZGVyKTtcbn0pO1xuXG5zcGFtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIHRpdGxlLnRleHRDb250ZW50ID0gXCJTcGFtXCI7XG4gIC8vIFZlcmlmeSBpZiBjbGVhclRyYXNoQnV0dG9uIG11c3QgYmUgdGhlcmUgb3Igbm90XG4gIHN0eWxpbmdzT2JqZWN0LmNsZWFyVHJhc2hCdXR0b25QcmVzZW5jZVZlcmlmaWNhdGlvbigpO1xuICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgcHVzaFRhc2tzSW5Gb2xkZXIoc3BhbUZvbGRlcik7XG59KTtcblxudHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBcIlRyYXNoXCI7XG4gIC8vIFZlcmlmeSBpZiBjbGVhclRyYXNoQnV0dG9uIG11c3QgYmUgdGhlcmUgb3Igbm90XG4gIHN0eWxpbmdzT2JqZWN0LmNsZWFyVHJhc2hCdXR0b25QcmVzZW5jZVZlcmlmaWNhdGlvbigpO1xuICBzdHlsaW5nc09iamVjdC5tYWtlVGV4dEJvbGQoKTtcbiAgcHVzaFRhc2tzSW5Gb2xkZXIodHJhc2hGb2xkZXIpO1xufSk7XG5cbmFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgc3R5bGluZ3NPYmplY3Quc2hvd0Zvcm0oKTtcbn0pO1xuXG5jbG9zZUZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgc3R5bGluZ3NPYmplY3QuaGlkZUZvcm0oKTtcbiAgLy8gUmVzZXRzIGZvcm0gdmFsdWVzIHdoZW4gaW5mbyBub3Qgc3VibWl0dGVkXG4gIGZvcm1UYXNrTmFtZS52YWx1ZSA9IFwiXCI7XG4gIGZvcm1EdWVEYXRlLnZhbHVlID0gXCJcIjtcbn0pO1xuXG4vLyBFcmFzZSB3aGF0J3MgaW5zaWRlIHRoZSB0cmFzaCBmb2xkZXIsIGlmIGNsZWFyVHJhc2hCdXR0b24gaXMgY2xpY2tlZFxuY2xlYXJUcmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICB0cmFzaEZvbGRlci5zcGxpY2UoMCwgdHJhc2hGb2xkZXIubGVuZ3RoKTtcbiAgZGlzcGxheVRhc2tzKHRyYXNoRm9sZGVyKTtcbn0pO1xuIl0sIm5hbWVzIjpbImFzaWRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWFpbiIsInRpdGxlIiwiY2xlYXJUcmFzaEJ1dHRvbiIsImluYm94QnV0dG9uIiwiaW1wb3J0YW50QnV0dG9uIiwic3BhbUJ1dHRvbiIsInRyYXNoQnV0dG9uIiwiYWRkVGFza0J1dHRvbiIsIm1haW5TZWN0aW9uIiwiZm9ybVN1Ym1pdCIsImNsb3NlRm9ybUJ1dHRvbiIsImZvcm1UYXNrTmFtZSIsImZvcm1EdWVEYXRlIiwiZm9ybVByaW9yaXR5IiwiZm9ybUxvY2F0aW9uIiwic3R5bGluZ3NPYmplY3QiLCJzbW9vdGhGb3JtVHJhbnNpdGlvbiIsInN0eWxlIiwidHJhbnNpdGlvbiIsInNob3dGb3JtIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiaGlkZUZvcm0iLCJtYWtlVGV4dEJvbGQiLCJ0ZXh0Q29udGVudCIsImNsZWFyVHJhc2hCdXR0b25QcmVzZW5jZVZlcmlmaWNhdGlvbiIsImluYm94Rm9sZGVyIiwiaW1wb3J0YW50Rm9sZGVyIiwic3BhbUZvbGRlciIsInRyYXNoRm9sZGVyIiwiVGFzayIsImNvbnN0cnVjdG9yIiwibmFtZSIsImR1ZURhdGUiLCJwcmlvcml0eSIsImxvY2F0aW9uIiwidGhpcyIsImRpc3BsYXlUYXNrcyIsImZvbGRlciIsImlubmVySFRNTCIsImZvckVhY2giLCJ0YXNrIiwibWFpblRhc2siLCJjcmVhdGVFbGVtZW50IiwibWFpblRhc2sxIiwibWFpblRhc2syIiwibWFpblRhc2tDaGVja2JveCIsInR5cGUiLCJtYWluVGFza1RpdGxlIiwibWFpblRhc2tEYXRlIiwibWFpblRhc2tVcmdlbmN5IiwibWFpblRhc2tUcmFzaCIsInNyYyIsIm1haW5UYXNrU3BhbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbmRleFRvTW92ZSIsImluZGV4T2YiLCJtb3ZlZFRhc2siLCJzcGxpY2UiLCJwdXNoIiwiYXBwZW5kQ2hpbGQiLCJwdXNoVGFza3NJbkZvbGRlciIsInZhbHVlIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==